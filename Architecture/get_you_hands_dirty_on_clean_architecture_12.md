# Get Your Hands Dirty on Clean Architecture

> https://learning.oreilly.com/library/view/get-your-hands/9781839211966/
>
> 스터디
>
> 2021.09.14

## Chapter 12 - Deciding on an Architecture Style

지금까지 이 책은 육각형 아키텍처 스타일로 웹 애플리케이션을 구축하기 위한 독창적인 접근 방식을 제시했다.
코드 구성에서 지름길 사용에 이르기까지 우리는 이 아키텍처 스타일이 직면한 많은 질문에 답했다.

이 책의 답변 중 일부는 기존의 계층화된 아키텍처 스타일에 적용할 수 있다. 일부 답변은 이 책에서 제안한 것과 같은 도메인 중심 접근 방식에서만 구현할 수 있다. 그리고 일부 답변은 귀하의 경험에 맞지 않기 때문에 동의하지 않을 수도 있다.

그러나 우리가 답을 원하는 마지막 질문은 다음과 같다. 실제로 육각형 아키텍처 스타일을 사용해야 하는 경우는 언제일까?
그리고 언제 우리가 기존의 레이어드 스타일(또는 그 문제에 대해 다른 스타일)을 고수해야 할까?

### The Domain is King

**육각형 아키텍처 스타일의 주요 특징은 지속성 문제 및 외부 시스템에 대한 종속성과 같은 전환 없이 도메인 코드를 개발할 수 있다는 것이다.**

외부 영향이 없는 진화하는 도메인 코드는 육각형 아키텍처 스타일에 대한 가장 중요한 단일 요소이다.

이것이 이 아키텍처 스타일이 DDD(Domain-Driven Design) 관행과 매우 잘 어울리는 이유이다. 분명히 말하면 DDD에서 도메인이 개발을 주도한다. 그리고 지속성 문제와 기타 기술적 측면을 동시에 생각할 필요가 없다면 도메인에 대해 가장 잘 추론할 수 있다.

육각형 스타일과 같은 도메인 중심 아키텍처 스타일이 DDD를 가능하게 하는 요소라고까지 말할 정도이다. 도메인을 사물의 중심에 두는 아키텍처가 없으면 도메인 코드에 대한 종속성을 뒤집지 않고 실제로 DDD를 수행할 수 없다. 디자인은 항상 다른 요인에 의해 좌우된다.

따라서 이 책에서 제시하는 아키텍처 스타일을 사용할지 여부에 대한 첫 번째 지표로서 도메인 코드가 애플리케이션에서 가장 중요한 것이 아니라면 아마도 이 아키텍처 스타일이 필요하지 않을 것이다.

### Experience is Queen

우리는 습관의 동물이다. 습관은 우리를 위해 결정을 자동화하므로 우리는 그것에 시간을 할애할 필요가 없다. 우리를 향해 달려오는 사자가 있다면 우리는 도망간다. 새로운 웹 애플리케이션을 구축하는 경우 계층화된 아키텍처 스타일을 사용한다. 우리는 과거에 그것을 너무 자주 해서 습관이 되었다.

이것이 반드시 나쁜 결정이라고 말하는 것은 아니다. 습관은 잘못된 결정을 내리는 것만큼이나 올바른 결정을 내리는 데 도움이 된다. 나는 우리가 우리가 경험한 것을 하고 있다는 것을 말하는 것이다. 우리는 우리가 과거에 한 일에 편안함을 느끼는데, 왜 우리가 무언가를 바꿔야 할까?

따라서 아키텍처 스타일에 대해 경험에 의한 결정을 내리는 유일한 방법은 다양한 아키텍처 스타일에 대한 경험을 갖는 것이다. 육각형 아키텍처 스타일이 확실하지 않은 경우 현재 구축 중인 애플리케이션의 작은 모듈에서 시도해 보자. 개념에 익숙해지고 편안해질 것이다. 이 책에 있는 아이디어를 적용하고 수정하고 자신만의 아이디어를 추가하여 편안한 스타일을 개발해라.

이 경험은 다음 아키텍처 결정을 안내할 수 있다.

### It Depends

때에 따라 다르다

어떤 아키텍처 스타일을 선택해야 하는지에 대한 나의 대답은 여전히 "그것은 상황에 따라 다릅니다.."이다.
구축할 소프트웨어 유형에 따라 다르다.
도메인 코드의 역할에 따라 다르다.
그것은 팀의 경험에 달려 있다.
마지막으로, 결정을 내리는데 있어 편안함에 달려있다.
